{% extends "base.html" %}
{% block title %}Demandas{% endblock %}
{% load static %}
{% block header_bt %}
{% endblock %}
{% block header %}{% endblock %}

{% block content %}
<div class="w-100 p-4">
    <!-- Cabeçalho da Página -->
    <div class="d-flex justify-content-between align-items-center">
        <div>
            <h1 class="">Gerenciador de Demandas</h1>
            <h5>Acompanhe e gerencie as atividades pendentes e concluídas.</p>
        </div>
        <button class="btn btn-success btn-lg" data-bs-toggle="modal" data-bs-target="#novaDemandaModal">
            <i style="color: white;" class="bi bi-plus-circle"></i> Criar Nova Demanda
        </button>
    </div>

    <!-- Filtros -->
    <div class="card shadow-sm mb-4">
        <div class="card-body d-flex flex-wrap gap-3 align-items-center">
            <div class="flex-grow-1">
                <label for="searchDemanda" class="form-label small text-muted">Buscar por Título</label>
                <input type="text" class="form-control" id="searchDemanda" placeholder="Ex: Relatório Mensal...">
            </div>
            <div class="flex-grow-1">
                <label for="turmafilter" class="form-label small text-muted">Selecionar Turma</label>
                <select id="turmafilter" class="form-select">
                    <option>Turma Tal</option>
                </select>
            </div>
            <div class="flex-grow-1">
                <label for="filterStatus" class="form-label small text-muted">Filtrar por Status</label>
                <select id="filterStatus" class="form-select">
                    <option selected>Todos os Status</option>
                    <option value="Pendente">Pendente</option>
                    <option value="Em Andamento">Em Andamento</option>
                    <option value="Concluída">Concluída</option>
                </select>
            </div>
            <div class="align-self-end">
                <button class="btn btn-success me-2" id="filterBtn"><i class="bi bi-funnel-fill"
                        style="color: white;"></i> Aplicar Filtros</button>
            </div>
        </div>
    </div>

    <!-- Lista de Demandas -->
    <div class="row" id="demandas-container">
        <!-- Cards de demanda serão inseridos aqui dinamicamente -->

        <div class="col-lg-6 col-xl-4 mb-4">
            <div class="card h-100 shadow-sm custom-card-hover" data-demanda-index="${index}">
                <div
                    class="card-header ${style.header} border-2 border-bottom-0 d-flex justify-content-between align-items-center">
                    <h5 class="card-title mb-0 text-dark">Titulo</h5><span class="badge text-bg-primary">Status</span>
                </div>
                <div class="card-body">
                    <h7 class="card-text text-muted">Descrição da atividade tal da silva.</h7>
                    <ul class="list-unstyled text-muted small">
                        <li class="mb-2"><i
                                class="fas fa-calendar-alt me-2 text-primary"></i><strong>Entrega:</strong>Entrega
                        </li>
                        <li class="mb-2"><i class="fas fa-user-tie me-2 text-primary"></i><strong>Responsável:</strong>
                            Nome do gestor</li>
                        <li><i class="fas fa-building me-2 text-primary"></i><strong>Empresa:</strong>
                            Nome da Instituicao</li>
                    </ul>
                </div>
                <div class="card-footer bg-white border-top-0 d-flex justify-content-end gap-2">
                    <button class="btn  btn-sm btn-apagar-demanda">Editar</button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}